machines:
  '0':
    constraints: 'arch=amd64'
    series: xenial
services:
  {{ est-name }}:
    charm: ./xenial/elasticsearch-tengu
    num_units: 1
    to: 0
    options:
      api-key: {{ api-key }}
      sojobo-ip: {{ sojobo-ip }}
      controller-type: {{ controller-type }}
  trusty-tengubeat:
    charm: ./trusty/tengubeat
    options:
      api-key: {{ api-key }}
      sojobo-ip: {{ sojobo-ip }}
      model: {{ model }}
      controller: {{ controller }}
  xenial-tengubeat:
    charm: ./xenial/tengubeat
series: xenial
relations:
  - - “{{ est-name }}:client”
    - “trusty-tengubeat:elasticsearch”
  - - “{{ est-name }}:client”
    - “xenial-tengubeat:elasticsearch”
