machines:
  "0":
    constraints: "arch=amd64"
    series: xenial
services:
  elasticsearch-tengu:
    charm: "/home/ubuntu/local_charms/xenial/elasticsearch-tengu"
    num_units: 1
    expose: true
    to:
      - "0"
    options:
      api-key: {{ api-key }}
      sojobo-ip: {{ sojobo-ip }}
      controller-type: {{ controller-type }}
      controller: {{ controller }}
      model: {{ model }}
  trusty-tengubeat:
    charm: "/home/ubuntu/local_charms/trusty/tengubeat"
    options:
      api-key: {{ api-key }}
      sojobo-ip: {{ sojobo-ip }}
      model: {{ model }}
      controller: {{ controller }}
  xenial-tengubeat:
    charm: "/home/ubuntu/local_charms/xenial/tengubeat"
    options:
      api-key: {{ api-key }}
      sojobo-ip: {{ sojobo-ip }}
      model: {{ model }}
      controller: {{ controller }}
series: xenial
relations:
  - - "elasticsearch-tengu:client"
    - "trusty-tengubeat:elasticsearch"
  - - "elasticsearch-tengu:client"
    - "xenial-tengubeat:elasticsearch"

